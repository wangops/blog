
<div className="mdx-box">
#### Javascript 事件循环
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaScript 的事件循环机制指的是 JavaScript 运行时环境中处理和调度代码执行的方式。它主要涉及到以下几个部分：。
###### &nbsp;
####  1. 执行栈（Execution Stack）
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;  执行栈是 JavaScript 运行时使用的一种数据结构，用来管理代码的执行。它遵循后进先出（LIFO）的原则，即最后压入栈的函数最先执行，直到执行完毕后被弹出栈。
###### &nbsp;

####  2. 任务队列（Task Queue）
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;  任务队列是一个先进先出（FIFO）的队列，用来存放各种异步任务的回调函数（比如事件处理、setTimeout/setInterval 的回调等）。任务队列中的任务会等待 JavaScript 引擎空闲时，根据一定的规则被推入执行栈中执行。
###### &nbsp;

####  3. 事件循环（Event Loop）
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;  事件循环是 JavaScript 实现异步非阻塞机制的核心。它负责监控执行栈和任务队列，判断何时将任务从任务队列推到执行栈中执行。事件循环的执行过程可以描述如下：
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;  从主线程读取代码，同步任务（同步代码）直接执行：从全局执行上下文开始执行代码，同步任务会直接进入执行栈执行。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;  遇到异步任务，将其注册到任务队列：当遇到异步任务（比如 setTimeout 回调、Promise 的 then 方法、事件监听器等），它们会被分发到对应的任务队列中，等待执行。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;  执行栈为空时，从任务队列中取出任务执行：当执行栈中的所有同步任务执行完毕并被清空时，事件循环会检查任务队列，将队列中的第一个任务（先进先出）推到执行栈中执行
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;  等待和检查：事件循环会不断重复上述步骤，这样就实现了异步任务的执行。
###### &nbsp;

####  4. 微任务队列（Microtask Queue）
&nbsp;&nbsp;&nbsp;&nbsp;   在事件循环的过程中，每个宏任务执行完成后，会检查是否有微任务需要执行。微任务指的是那些不需要等待时间的异步任务，比如 Promise 的回调函数。微任务会优先于宏任务执行，即每个宏任务执行完毕后会优先执行微任务队列中的所有任务，直到微任务队列为空，再执行下一个宏任务。
###### &nbsp;

</div>



