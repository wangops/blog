import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
import  {darcula}  from 'react-syntax-highlighter/dist/cjs/styles/prism';

<div className="mdx-box">
在 HTML 中，defer 和 async 是用于 `<script>` 标签的属性，用于控制脚本的加载和执行方式。它们都涉及到异步加载 JavaScript 文件，但它们的行为有所不同。下面是对 defer 和 async 属性的详细介绍及其区别：
###### &nbsp;
#### async 属性
###### &nbsp;
功能：async 属性表示脚本是异步加载的。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; 当一个 `<script>` 标签有 async 属性时，浏览器会异步下载脚本文件。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; 一旦脚本文件下载完成，浏览器会立即执行这个脚本，不管当前页面的解析状态如何。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; 脚本的执行顺序不一定按照它们在 HTML 中出现的顺序。每个 async 脚本都可以独立下载和执行。
###### &nbsp;
<SyntaxHighlighter language="html" style={darcula}>
  {`
    <script src="script1.js" async></script>
    <script src="script2.js" async></script>

`}
</SyntaxHighlighter>
###### &nbsp;

#### defer 属性
###### &nbsp;
功能：defer 属性表示脚本在页面解析完成后再执行
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; 当一个 `<script>` 标签有 defer 属性时，浏览器会异步下载脚本文件。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; 一旦所有的 defer 脚本文件下载完成，浏览器会在 DOM 完全解析完成后，按照在 HTML 中的顺序执行这些脚本。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; defer 脚本会在 DOMContentLoaded 事件之前执行，但在 async 脚本执行之后执行。
###### &nbsp;
<SyntaxHighlighter language="html" style={darcula}>
  {`
    <script src="script1.js" defer></script>
    <script src="script2.js" defer></script>

`}
</SyntaxHighlighter>
###### &nbsp;

#### 主要区别
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; async：脚本会异步加载和立即执行，不考虑其他脚本的加载和执行顺序。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; defer：脚本会异步加载，但会在页面的 DOM 完全解析完成后按顺序执行。
###### &nbsp;
###### &nbsp;
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; async：脚本的执行顺序是不确定的，取决于哪个脚本最先加载完成。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; defer：脚本会按照它们在 HTML 中的顺序执行，即使它们是异步加载的。
###### &nbsp;
###### &nbsp;
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; async：适用于不依赖于其他脚本的独立脚本。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; defer：适用于需要在 DOM 完全加载后执行的脚本，且可以确保脚本按顺序执行。
###### &nbsp;
###### &nbsp;
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; 脚本可能在 DOM 加载过程中执行，因此在执行时 DOM 可能还未完全构建。
###### &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; defer：脚本在 DOM 完全加载后执行，所以可以安全地访问和操作 DOM。
###### &nbsp;
###### &nbsp;
###### &nbsp;
</div>
